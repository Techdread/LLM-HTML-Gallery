<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ASCII Sphere Rotation</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.7.0/p5.js"></script>
    <style>
        body {
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: #000;
            overflow: hidden;
        }
    </style>
</head>

<body>
    <script>
        let spherePoints = [];
        const numPoints = 2000; // Number of ASCII characters to use
        const charSet = "0123456789"; // ASCII digits
        const radius = 150;
        let angleX = 0;
        let angleY = 0;
        let angleZ = 0;

        function setup() {
            createCanvas(800, 600, WEBGL);
            colorMode(HSB, 360, 100, 100, 1);

            // Generate points on a sphere
            for (let i = 0; i < numPoints; i++) {
                // Use spherical coordinates
                const theta = random(TWO_PI);
                const phi = acos(2 * random() - 1); // Uniform distribution over sphere

                const x = radius * sin(phi) * cos(theta);
                const y = radius * sin(phi) * sin(theta);
                const z = radius * cos(phi);

                // Choose a random character from the set
                const char = charSet[floor(random(charSet.length))];

                spherePoints.push({
                    x, y, z,
                    char,
                    distance: 0 // Will be calculated later
                });
            }
        }

        function draw() {
            background(0);

            // Update rotation angles
            angleX += 0.005;
            angleY += 0.01;
            angleZ += 0.003;

            // Set up the 3D transformation
            push();
            rotateX(angleX);
            rotateY(angleY);
            rotateZ(angleZ);

            // Draw each point
            for (let point of spherePoints) {
                // Calculate distance from camera (which is at origin in this case)
                // We'll use the z-coordinate to determine brightness
                const distFromCamera = point.z;

                // Normalize distance to 0-1 range (negative z values are farther)
                // We want closer to white, farther to grey
                const normalizedDist = map(distFromCamera, -radius, radius, 0, 1);

                // Brightness based on distance: closer = brighter
                const brightness = map(normalizedDist, 0, 1, 100, 20); // 100 = white, 20 = grey
                const grayValue = brightness;

                // Set text style
                noStroke();
                fill(0, 0, grayValue); // HSB: H=0 (black), S=0 (no color), B=grayValue
                textSize(12);

                // Calculate the actual position after rotation
                const px = point.x;
                const py = point.y;
                const pz = point.z;

                // Position the text in 3D space
                translate(px, py, pz);

                // Draw the character
                text(point.char, 0, 0);

                // Reset translation
                pop();
                push();
            }

            pop();
        }
    </script>
</body>

</html>